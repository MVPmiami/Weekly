(this.webpackJsonpweakly=this.webpackJsonpweakly||[]).push([[0],{27:function(e,t,o){},36:function(e,t,o){},37:function(e,t,o){},38:function(e,t,o){},43:function(e,t,o){},47:function(e,t,o){},48:function(e,t,o){},49:function(e,t,o){},50:function(e,t,o){},51:function(e,t,o){},53:function(e,t,o){"use strict";o.r(t);var r=o(2),c=o.n(r),n=o(21),a=o.n(n),s=(o(36),o(37),o(38),o(12)),d=function(e){if(e){document.getElementById("wrapper-register").classList.toggle("hidden");for(var t=document.querySelector(".card-wrapp"),o=t.classList,r=0;r<o.length;r++)"easy-workload-color"!==o[r]&&"medium-workload-color"!==o[r]&&"hard-workload-color"!==o[r]||(o.remove("easy-workload-color"),o.remove("medium-workload-color"),o.remove("hard-workload-color"));2!==o.length&&t.classList.toggle("hidden")}else{document.getElementById("wrapper-sign-in").classList.toggle("hidden");for(var c=document.querySelector(".card-wrapp"),n=c.classList,a=0;a<n.length;a++)"easy-workload-color"!==n[a]&&"medium-workload-color"!==n[a]&&"hard-workload-color"!==n[a]||(n.remove("easy-workload-color"),n.remove("medium-workload-color"),n.remove("hard-workload-color"));2!==n.length&&c.classList.toggle("hidden")}},i=o(3),l=Object(s.b)((function(e){return e.setLoginNameReducer}))((function(e){var t=e.loginName;return e.loginName.length>10&&(t=t.substring(0,8)),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("div",{className:"logo",children:"Weekly"}),Object(i.jsx)("div",{className:"empty"}),Object(i.jsxs)("div",{className:"reg-sign",children:[Object(i.jsx)("div",{className:"registration",onClick:function(){d(true)},children:"Sign-up"}),Object(i.jsx)("div",{className:"sign-in",onClick:function(){d(false)},children:t})]})]})})})),u=(o(43),o(27),o(15));u.a.initializeApp({apiKey:"AIzaSyC0mEjX3y25JZWdWAVWwJVva9J_H3r9NNw",authDomain:"weakly-de534.firebaseapp.com",projectId:"weakly-de534",storageBucket:"weakly-de534.appspot.com",messagingSenderId:"650784813492",appId:"1:650784813492:web:86ca71135e9cbd07c902e1",measurementId:"G-CFQ73055VM"});var m=u.a.firestore();var h=Object(s.b)((function(e){return e.setAccountDataReducer}))((function(e){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:"wrapper-register",className:"hidden",children:[Object(i.jsx)("a",{onClick:function(){d(true)},children:"X"}),Object(i.jsxs)("form",{id:"register",children:[Object(i.jsx)("input",{type:"text",id:"username-register",placeholder:"username"}),Object(i.jsx)("input",{type:"password",id:"password-register",placeholder:"password"}),Object(i.jsx)("div",{className:"submit",onClick:function(){!function(e,t){m.collection("users").add({userName:e,password:t,tasks:[]}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}(document.getElementById("username-register").value,document.getElementById("password-register").value),d(true),function(){var e=document.getElementById("register-succesful");e.classList.toggle("hidden"),setTimeout((function(){e.classList.toggle("hidden")}),1e3)}()},children:"\uf0da"})]})]})})})),j=(o(47),function(e,t){var o=document.querySelector(".card-wrapp").classList,r=document.querySelector(".card-content").classList;"ADD"===e?t<=2?(o.remove("medium-workload-color"),o.remove("hard-workload-color"),o.add("easy-workload-color")):t>2&&t<=5?(o.remove("easy-workload-color"),o.remove("hard-workload-color"),o.add("medium-workload-color")):t>5&&(o.remove("easy-workload-color"),o.remove("medium-workload-color"),o.add("hard-workload-color"),r.remove("card-scroll"),t>=12&&r.add("card-scroll")):"LOAD"===e?t>0&&t<=3?(o.remove("medium-workload-color"),o.remove("hard-workload-color"),o.add("easy-workload-color")):t>3&&t<=6?(o.remove("easy-workload-color"),o.remove("hard-workload-color"),o.add("medium-workload-color")):t>6&&(o.remove("easy-workload-color"),o.remove("medium-workload-color"),o.add("hard-workload-color"),r.remove("card-scroll"),t>=13&&r.add("card-scroll")):"DELETE"===e&&((t-=1)>0&&t<=3?(o.remove("medium-workload-color"),o.remove("hard-workload-color"),o.add("easy-workload-color")):t>3&&t<=6?(o.remove("easy-workload-color"),o.remove("hard-workload-color"),o.add("medium-workload-color")):t>6?(o.remove("easy-workload-color"),o.remove("medium-workload-color"),o.add("hard-workload-color"),t<=12&&r.remove("card-scroll")):0===t&&(o.remove("easy-workload-color"),o.remove("medium-workload-color"),o.remove("hard-workload-color")))});var g=Object(s.b)((function(e){return e.setAccountDataReducer}))((function(e){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{id:"wrapper-sign-in",className:"hidden",children:[Object(i.jsx)("a",{onClick:function(){d(false)},children:"X"}),Object(i.jsxs)("form",{id:"sign-in",children:[Object(i.jsx)("input",{type:"text",id:"username-sign-in",placeholder:"username"}),Object(i.jsx)("input",{type:"password",id:"password-sign-in",placeholder:"password"}),Object(i.jsx)("div",{className:"submit",onClick:function(){!function(e,t,o){var r=document.getElementById("wrong-message");m.collection("users").where("userName","==","".concat(e)).get().then((function(c){c.forEach((function(c){e==c.data().userName&&t==c.data().password?(o.dispatch({type:"SET_ACCOUNT_DATA",userName:e,password:t}),o.dispatch({type:"SET_LOGIN_NAME",loginName:e}),o.dispatch({type:"SET_TASKS",tasks:c.data().tasks}),j("LOAD",c.data().tasks.length),document.getElementById("wrapper-sign-in").classList.toggle("hidden"),document.querySelector(".card-wrapp").classList.toggle("hidden"),r.classList.contains("hidden")||r.classList.add("hidden")):r.classList.remove("hidden")}))})).catch((function(e){console.log("Error getting documents: ",e)}))}(document.getElementById("username-sign-in").value,document.getElementById("password-sign-in").value,e)},children:"\uf0da"})]}),Object(i.jsx)("p",{id:"wrong-message",className:"hidden",children:"Wrong login or password! Try again."})]})})}));var v=function(){return Object(i.jsx)("div",{children:Object(i.jsx)("div",{id:"register-succesful",className:"hidden",children:Object(i.jsx)("h1",{children:"Register Succesful!"})})})},p=(o(48),o(49),o(50),o(19)),k=o(30),f=o(10),b="SET_ACCOUNT_DATA",w={userName:"",password:""};var O="SET_LOGIN_NAME",y={loginName:"Sign-in"};var x="SET_TASKS",N="SET_STATUS_TASK",E="DELETE_TASK",T="ADD_TASK",S={tasks:[]};var A="SET_INPUT_VALUE",D={input:""};var L=Object(p.b)({setAccountDataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(f.a)(Object(f.a)({},e),{},{userName:"".concat(t.userName),password:"".concat(t.password)});default:return e}},setLoginNameReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(f.a)(Object(f.a)({},e),{},{loginName:"".concat(t.loginName)});default:return e}},setTasksDataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:var o=function(e,t){var o=e.slice();return o.push(t),o};return Object(f.a)(Object(f.a)({},e),{},{tasks:o(e.tasks,t.value)});case x:return Object(f.a)(Object(f.a)({},e),{},{tasks:t.tasks});case E:var r=function(e,t){var o=e.slice();return o=o.filter((function(e){return e.id!==t}))};return Object(f.a)(Object(f.a)({},e),{},{tasks:r(e.tasks,t.value.id)});case N:var c=function(e,t){for(var o=e.slice(),r=0;r<o.length;r++)o[r].id===t&&(o[r].done?o[r].done=!1:o[r].done=!0);return o};return Object(f.a)(Object(f.a)({},e),{},{tasks:c(e.tasks,t.value.id)});default:return e}},setInputValueReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(f.a)(Object(f.a)({},e),{},{input:"".concat(t.value)});default:return e}}}),_=Object(p.c)(L,Object(p.a)(k.a)),I=Object(s.b)((function(e){return e.setTasksDataReducer}))((function(e){var t=e.task.done?"task-wrapper complete-task":"task-wrapper",o=e.task.done?"task-text complete-task-text":"task-text",r=e.task.done?"delete-btn complete-task-btns":"delete-btn",c=e.task.done?"done-btn complete-task-btns":"done-btn",n=e.loginName,a=e.task.id,s=e.task.title,d=e.task.done;return Object(i.jsxs)("div",{className:t,children:[Object(i.jsx)("h1",{className:o,children:e.task.title}),Object(i.jsx)("div",{className:c,onClick:function(){_.dispatch({type:"SET_STATUS_TASK",value:{id:e.task.id,done:!e.task.done}}),m.collection("users").where("userName","==","".concat(n)).get().then((function(e){e.forEach((function(e){var t=m.collection("users").doc(e.id);return t.update({tasks:u.a.firestore.FieldValue.arrayRemove({id:a,title:s,done:d})}).then((function(){return console.log("Document successfully updated!"),t.update({tasks:u.a.firestore.FieldValue.arrayUnion({id:a,title:s,done:!d})})})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))},children:"Done"}),Object(i.jsx)("div",{className:r,onClick:function(){_.dispatch({type:"DELETE_TASK",value:{id:e.task.id}}),m.collection("users").where("userName","==","".concat(n)).get().then((function(e){e.forEach((function(e){return m.collection("users").doc(e.id).update({tasks:u.a.firestore.FieldValue.arrayRemove({id:a,title:s,done:d})}).then((function(){j("DELETE",e.data().tasks.length)})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))},children:"Delete"})]})})),C=(o(51),Object(s.b)((function(e){return e}))((function(e){return Object(i.jsx)("input",{className:"input",maxLength:"30",onKeyPress:function(t){"Enter"===t.key&&e.addTask()}})}))),R=Object(s.b)((function(e){return e}))((function(e){var t=e.setTasksDataReducer.tasks,o=e.setLoginNameReducer.loginName,r=function(){var r=document.querySelector(".input").value,c=Math.random();e.dispatch({type:"ADD_TASK",value:{id:c,title:"".concat(r),done:!1}}),m.collection("users").where("userName","==","".concat(o)).get().then((function(e){e.forEach((function(e){return m.collection("users").doc(e.id).update({tasks:u.a.firestore.FieldValue.arrayUnion({id:c,title:"".concat(r),done:!1})}).then((function(){document.querySelector(".input").value="",j("ADD",t.length)})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))};return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"card-wrapp hidden",children:[Object(i.jsx)("div",{className:"card-content",children:t.map((function(t){return Object(i.jsx)(I,{task:t,loginName:e.setLoginNameReducer.loginName},t.id)}))}),Object(i.jsxs)("div",{className:"bottom-interface",children:[Object(i.jsx)(C,{addTask:r}),Object(i.jsx)("div",{className:"btn-add",onClick:r,children:"ADD"})]})]})})})),B=function(){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"content-wrap",children:[Object(i.jsx)(h,{}),Object(i.jsx)(g,{}),Object(i.jsx)(v,{}),Object(i.jsx)(R,{})]})})},K=o(31);var V=Object(s.b)((function(e){return e}))((function(e){return Object(i.jsx)(K.a,{children:Object(i.jsxs)("div",{children:[Object(i.jsx)(l,{}),Object(i.jsx)(B,{})]})})}));a.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(s.a,{store:_,children:Object(i.jsx)(V,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.9621d3eb.chunk.js.map