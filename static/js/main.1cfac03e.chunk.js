(this.webpackJsonpweakly=this.webpackJsonpweakly||[]).push([[0],{27:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},43:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(21),r=n.n(a),i=(n(36),n(37),n(38),n(12)),o=function(e){if(e){document.getElementById("wrapper-register").classList.toggle("hidden");var t=document.querySelector(".card-wrapp");2!==t.classList.length&&t.classList.toggle("hidden")}else{document.getElementById("wrapper-sign-in").classList.toggle("hidden");var n=document.querySelector(".card-wrapp");2!==n.classList.length&&n.classList.toggle("hidden")}},d=n(3),u=Object(i.b)((function(e){return e.setLoginNameReducer}))((function(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("div",{className:"logo",children:"Weekly"}),Object(d.jsx)("div",{className:"empty"}),Object(d.jsxs)("div",{className:"reg-sign",children:[Object(d.jsx)("div",{className:"registration",onClick:function(){o(true)},children:"Registration"}),Object(d.jsx)("div",{className:"sign-in",onClick:function(){o(false)},children:e.loginName})]})]})})})),l=(n(43),n(27),n(15));l.a.initializeApp({apiKey:"AIzaSyC0mEjX3y25JZWdWAVWwJVva9J_H3r9NNw",authDomain:"weakly-de534.firebaseapp.com",projectId:"weakly-de534",storageBucket:"weakly-de534.appspot.com",messagingSenderId:"650784813492",appId:"1:650784813492:web:86ca71135e9cbd07c902e1",measurementId:"G-CFQ73055VM"});var j=l.a.firestore();var m=Object(i.b)((function(e){return e.setAccountDataReducer}))((function(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{id:"wrapper-register",className:"hidden",children:[Object(d.jsx)("a",{onClick:function(){o(true)},children:"X"}),Object(d.jsxs)("form",{id:"register",children:[Object(d.jsx)("input",{type:"text",id:"username-register",placeholder:"username"}),Object(d.jsx)("input",{type:"password",id:"password-register",placeholder:"password"}),Object(d.jsx)("div",{className:"submit",onClick:function(){!function(e,t){j.collection("users").add({userName:e,password:t,tasks:[]}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}(document.getElementById("username-register").value,document.getElementById("password-register").value),o(true),function(){var e=document.getElementById("register-succesful");e.classList.toggle("hidden"),setTimeout((function(){e.classList.toggle("hidden")}),1e3)}()},children:"\uf0da"})]})]})})}));n(47);var h=Object(i.b)((function(e){return e.setAccountDataReducer}))((function(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{id:"wrapper-sign-in",className:"hidden",children:[Object(d.jsx)("a",{onClick:function(){o(false)},children:"X"}),Object(d.jsxs)("form",{id:"sign-in",children:[Object(d.jsx)("input",{type:"text",id:"username-sign-in",placeholder:"username"}),Object(d.jsx)("input",{type:"password",id:"password-sign-in",placeholder:"password"}),Object(d.jsx)("div",{className:"submit",onClick:function(){!function(e,t,n){var c=document.getElementById("wrong-message");j.collection("users").where("userName","==","".concat(e)).get().then((function(s){s.forEach((function(s){e==s.data().userName&&t==s.data().password?(n.dispatch({type:"SET_ACCOUNT_DATA",userName:e,password:t}),n.dispatch({type:"SET_LOGIN_NAME",loginName:e}),n.dispatch({type:"SET_TASKS",tasks:s.data().tasks}),document.getElementById("wrapper-sign-in").classList.toggle("hidden"),document.querySelector(".card-wrapp").classList.toggle("hidden"),c.classList.contains("hidden")||c.classList.add("hidden")):c.classList.remove("hidden")}))})).catch((function(e){console.log("Error getting documents: ",e)}))}(document.getElementById("username-sign-in").value,document.getElementById("password-sign-in").value,e)},children:"\uf0da"})]}),Object(d.jsx)("p",{id:"wrong-message",className:"hidden",children:"Wrong login or password! Try again."})]})})}));var g=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("div",{id:"register-succesful",className:"hidden",children:Object(d.jsx)("h1",{children:"Register Succesful!"})})})},p=(n(48),n(49),n(50),n(19)),b=n(30),f=n(10),v="SET_ACCOUNT_DATA",O={userName:"",password:""};var k="SET_LOGIN_NAME",x={loginName:"Sign-in"};var N="SET_TASKS",w="SET_STATUS_TASK",y="DELETE_TASK",E="ADD_TASK",S={tasks:[]};var T="SET_INPUT_VALUE",A={input:""};var D=Object(p.b)({setAccountDataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(f.a)(Object(f.a)({},e),{},{userName:"".concat(t.userName),password:"".concat(t.password)});default:return e}},setLoginNameReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(f.a)(Object(f.a)({},e),{},{loginName:"".concat(t.loginName)});default:return e}},setTasksDataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var n=function(e,t){var n=e.slice();return n.push(t),n};return Object(f.a)(Object(f.a)({},e),{},{tasks:n(e.tasks,t.value)});case N:return Object(f.a)(Object(f.a)({},e),{},{tasks:t.tasks});case y:var c=function(e,t){var n=e.slice();return n=n.filter((function(e){return e.id!==t}))};return Object(f.a)(Object(f.a)({},e),{},{tasks:c(e.tasks,t.value.id)});case w:var s=function(e,t){for(var n=e.slice(),c=0;c<n.length;c++)n[c].id===t&&(n[c].done?n[c].done=!1:n[c].done=!0);return n};return Object(f.a)(Object(f.a)({},e),{},{tasks:s(e.tasks,t.value.id)});default:return e}},setInputValueReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(f.a)(Object(f.a)({},e),{},{input:"".concat(t.value)});default:return e}}}),L=Object(p.c)(D,Object(p.a)(b.a)),_=Object(i.b)((function(e){return e.setTasksDataReducer}))((function(e){var t=e.task.done?"task-wrapper complete-task":"task-wrapper",n=e.task.done?"task-text complete-task-text":"task-text",c=e.task.done?"delete-btn complete-task-btns":"delete-btn",s=e.task.done?"done-btn complete-task-btns":"done-btn",a=e.loginName,r=e.task.id,i=e.task.title,o=e.task.done;return Object(d.jsxs)("div",{className:t,children:[Object(d.jsx)("h1",{className:n,children:e.task.title}),Object(d.jsx)("div",{className:s,onClick:function(){L.dispatch({type:"SET_STATUS_TASK",value:{id:e.task.id,done:!e.task.done}}),j.collection("users").where("userName","==","".concat(a)).get().then((function(e){e.forEach((function(e){var t=j.collection("users").doc(e.id);return t.update({tasks:l.a.firestore.FieldValue.arrayRemove({id:r,title:i,done:o})}).then((function(){return console.log("Document successfully updated!"),t.update({tasks:l.a.firestore.FieldValue.arrayUnion({id:r,title:i,done:!o})})})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))},children:"Done"}),Object(d.jsx)("div",{className:c,onClick:function(){L.dispatch({type:"DELETE_TASK",value:{id:e.task.id}}),j.collection("users").where("userName","==","".concat(a)).get().then((function(e){e.forEach((function(e){return j.collection("users").doc(e.id).update({tasks:l.a.firestore.FieldValue.arrayRemove({id:r,title:i,done:o})}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))},children:"Delete"})]})})),I=(n(51),Object(i.b)((function(e){return e}))((function(e){return Object(d.jsx)("input",{className:"input",maxLength:"30"})}))),C=Object(i.b)((function(e){return e}))((function(e){var t=e.setTasksDataReducer.tasks,n=e.setLoginNameReducer.loginName;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"card-wrapp hidden",children:[Object(d.jsx)("div",{className:"card-content",children:t.map((function(t){return Object(d.jsx)(_,{task:t,loginName:e.setLoginNameReducer.loginName},t.id)}))}),Object(d.jsxs)("div",{className:"bottom-interface",children:[Object(d.jsx)(I,{}),Object(d.jsx)("div",{className:"btn-add",onClick:function(){var t=document.querySelector(".input").value,c=Math.random();e.dispatch({type:"ADD_TASK",value:{id:c,title:"".concat(t),done:!1}}),j.collection("users").where("userName","==","".concat(n)).get().then((function(e){e.forEach((function(e){return j.collection("users").doc(e.id).update({tasks:l.a.firestore.FieldValue.arrayUnion({id:c,title:"".concat(t),done:!1})}).then((function(){document.querySelector(".input").value=""})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))},children:"ADD"})]})]})})})),R=function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"content-wrap",children:[Object(d.jsx)(m,{}),Object(d.jsx)(h,{}),Object(d.jsx)(g,{}),Object(d.jsx)(C,{})]})})},B=n(31);var K=Object(i.b)((function(e){return e}))((function(e){return Object(d.jsx)(B.a,{children:Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsx)(R,{})]})})}));r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(i.a,{store:L,children:Object(d.jsx)(K,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.1cfac03e.chunk.js.map