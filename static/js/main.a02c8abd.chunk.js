(this.webpackJsonpweakly=this.webpackJsonpweakly||[]).push([[0],{27:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},43:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n.n(s),a=n(21),i=n.n(a),r=(n(36),n(37),n(38),n(11)),d=function(e){if(e){document.getElementById("wrapper-register").classList.toggle("hidden");var t=document.querySelector(".card-wrapp");2!==t.classList.length&&t.classList.toggle("hidden")}else{document.getElementById("wrapper-sign-in").classList.toggle("hidden");var n=document.querySelector(".card-wrapp");2!==n.classList.length&&n.classList.toggle("hidden")}},o=n(4),l=Object(r.b)((function(e){return e.setLoginNameReducer}))((function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("div",{className:"logo",children:"Weekly"}),Object(o.jsx)("div",{className:"empty"}),Object(o.jsxs)("div",{className:"reg-sign",children:[Object(o.jsx)("div",{className:"registration",onClick:function(){d(true)},children:"Registration"}),Object(o.jsx)("div",{className:"sign-in",onClick:function(){d(false)},children:e.loginName})]})]})})})),u=(n(43),n(27),n(17));u.a.initializeApp({apiKey:"AIzaSyC0mEjX3y25JZWdWAVWwJVva9J_H3r9NNw",authDomain:"weakly-de534.firebaseapp.com",projectId:"weakly-de534",storageBucket:"weakly-de534.appspot.com",messagingSenderId:"650784813492",appId:"1:650784813492:web:86ca71135e9cbd07c902e1",measurementId:"G-CFQ73055VM"});var j=u.a.firestore();var m=Object(r.b)((function(e){return e.setAccountDataReducer}))((function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{id:"wrapper-register",className:"hidden",children:[Object(o.jsx)("a",{onClick:function(){d(true)},children:"X"}),Object(o.jsxs)("form",{id:"register",children:[Object(o.jsx)("input",{type:"text",id:"username-register",placeholder:"username"}),Object(o.jsx)("input",{type:"password",id:"password-register",placeholder:"password"}),Object(o.jsx)("div",{className:"submit",onClick:function(){!function(e,t){j.collection("users").add({userName:e,password:t,tasks:[{id:1,title:"test1",done:!1},{id:2,title:"test2",done:!1},{id:3,title:"test3",done:!1}]}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))}(document.getElementById("username-register").value,document.getElementById("password-register").value),d(true),function(){var e=document.getElementById("register-succesful");e.classList.toggle("hidden"),setTimeout((function(){e.classList.toggle("hidden")}),1e3)}()},children:"\uf0da"})]})]})})}));n(47);var g=Object(r.b)((function(e){return e.setAccountDataReducer}))((function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{id:"wrapper-sign-in",className:"hidden",children:[Object(o.jsx)("a",{onClick:function(){d(false)},children:"X"}),Object(o.jsxs)("form",{id:"sign-in",children:[Object(o.jsx)("input",{type:"text",id:"username-sign-in",placeholder:"username"}),Object(o.jsx)("input",{type:"password",id:"password-sign-in",placeholder:"password"}),Object(o.jsx)("div",{className:"submit",onClick:function(){!function(e,t,n){var s=document.getElementById("wrong-message");j.collection("users").where("userName","==","".concat(e)).get().then((function(c){c.forEach((function(c){e==c.data().userName&&t==c.data().password?(n.dispatch({type:"SET_ACCOUNT_DATA",userName:e,password:t}),n.dispatch({type:"SET_LOGIN_NAME",loginName:e}),n.dispatch({type:"SET_TASKS",tasks:c.data().tasks}),document.getElementById("wrapper-sign-in").classList.toggle("hidden"),document.querySelector(".card-wrapp").classList.toggle("hidden"),s.classList.contains("hidden")||s.classList.add("hidden")):s.classList.remove("hidden")}))})).catch((function(e){console.log("Error getting documents: ",e)}))}(document.getElementById("username-sign-in").value,document.getElementById("password-sign-in").value,e)},children:"\uf0da"})]}),Object(o.jsx)("p",{id:"wrong-message",className:"hidden",children:"Wrong login or password! Try again."})]})})}));var h=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{id:"register-succesful",className:"hidden",children:Object(o.jsx)("h1",{children:"Register Succesful!"})})})},p=(n(48),n(49),n(50),n(19)),b=n(30),f=n(14),O="SET_ACCOUNT_DATA",v={userName:"",password:""};var x="SET_LOGIN_NAME",k={loginName:"Sign-in"};var N="SET_TASKS",w="SET_STATUS_TASK",y={tasks:[]};var E=Object(p.b)({setAccountDataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(f.a)(Object(f.a)({},e),{},{userName:"".concat(t.userName),password:"".concat(t.password)});default:return e}},setLoginNameReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(f.a)(Object(f.a)({},e),{},{loginName:"".concat(t.loginName)});default:return e}},setTasksDataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(f.a)(Object(f.a)({},e),{},{tasks:t.tasks});case w:var n=function(e,t){for(var n=e.slice(),s=0;s<n.length;s++)n[s].id===t&&(n[s].done?n[s].done=!1:n[s].done=!0);return n};return Object(f.a)(Object(f.a)({},e),{},{tasks:n(e.tasks,t.value.id)});default:return e}}}),S=Object(p.c)(E,Object(p.a)(b.a)),T=Object(r.b)((function(e){return e.setTasksDataReducer}))((function(e){var t=e.task.done?"task-wrapper complete-task":"task-wrapper",n=e.task.done?"task-text complete-task-text":"task-text",s=e.task.done?"delete-btn complete-task-btns":"delete-btn",c=e.task.done?"done-btn complete-task-btns":"done-btn",a=e.loginName,i=e.task.id,r=e.task.title,d=e.task.done;return Object(o.jsxs)("div",{className:t,children:[Object(o.jsx)("h1",{className:n,children:e.task.title}),Object(o.jsx)("div",{className:c,onClick:function(){S.dispatch({type:"SET_STATUS_TASK",value:{id:e.task.id,done:!e.task.done}}),j.collection("users").where("userName","==","".concat(a)).get().then((function(e){e.forEach((function(e){var t=j.collection("users").doc(e.id);return t.update({tasks:u.a.firestore.FieldValue.arrayRemove({id:i,title:r,done:d})}).then((function(){return console.log("Document successfully updated!"),t.update({tasks:u.a.firestore.FieldValue.arrayUnion({id:i,title:r,done:!d})})})).catch((function(e){console.error("Error updating document: ",e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))},children:"Done"}),Object(o.jsx)("div",{className:s,children:"Delete"})]})})),A=Object(r.b)((function(e){return e}))((function(e){var t=e.setTasksDataReducer.tasks;return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"card-wrapp hidden",children:[Object(o.jsx)("div",{className:"card-content",children:t.map((function(t){return Object(o.jsx)(T,{task:t,loginName:e.setLoginNameReducer.loginName},t.id)}))}),Object(o.jsx)("div",{className:"btn-add",children:"ADD"})]})})})),I=function(){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"content-wrap",children:[Object(o.jsx)(m,{}),Object(o.jsx)(g,{}),Object(o.jsx)(h,{}),Object(o.jsx)(A,{})]})})},L=n(31);var D=Object(r.b)((function(e){return e}))((function(e){return Object(o.jsx)(L.a,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)(l,{}),Object(o.jsx)(I,{})]})})}));i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(r.a,{store:S,children:Object(o.jsx)(D,{})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.a02c8abd.chunk.js.map